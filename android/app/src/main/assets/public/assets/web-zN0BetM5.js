import{W as n}from"./capacitor-vendor-Be0kW8mJ.js";function e(){const n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;let e="unknown";const t=n?n.type||n.effectiveType:null;if(t&&"string"==typeof t)switch(t){case"bluetooth":case"cellular":case"slow-2g":case"2g":case"3g":e="cellular";break;case"none":e="none";break;case"ethernet":case"wifi":case"wimax":case"4g":e="wifi";break;case"other":case"unknown":e="unknown"}return e}class t extends n{constructor(){super(),this.handleOnline=()=>{const n={connected:!0,connectionType:e()};this.notifyListeners("networkStatusChange",n)},this.handleOffline=()=>{this.notifyListeners("networkStatusChange",{connected:!1,connectionType:"none"})},"undefined"!=typeof window&&(window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline))}getStatus(){return n=this,t=null,o=function*(){if(!window.navigator)throw this.unavailable("Browser does not support the Network Information API");const n=window.navigator.onLine,t=e();return{connected:n,connectionType:n?t:"none"}},new Promise((e,i)=>{var a=n=>{try{c(o.next(n))}catch(e){i(e)}},s=n=>{try{c(o.throw(n))}catch(e){i(e)}},c=n=>n.done?e(n.value):Promise.resolve(n.value).then(a,s);c((o=o.apply(n,t)).next())});var n,t,o}}const o=new t;export{o as Network,t as NetworkWeb};
