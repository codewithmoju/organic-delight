@tailwind base;
@tailwind components;
@tailwind utilities;

/* Loading animations */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

@keyframes bounce {

  0%,
  20%,
  53%,
  80%,
  100% {
    transform: translateY(0);
  }

  40%,
  43% {
    transform: translateY(-8px);
  }

  70% {
    transform: translateY(-4px);
  }

  90% {
    transform: translateY(-2px);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Animation utility classes */
.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

.animate-bounce {
  animation: bounce 1s infinite;
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

/* RTL Support */
[dir="rtl"] {
  direction: rtl;
}

[dir="rtl"] .sidebar-container {
  right: 0;
  left: auto;
}

[dir="rtl"] .main-content {
  margin-right: 0;
  margin-left: auto;
}

@media (min-width: 1024px) {
  [dir="rtl"] .main-content {
    margin-right: 18rem;
    margin-left: 0;
  }
}

/* ============================================================================
   THEME CSS CUSTOM PROPERTIES
   ============================================================================ */

/* Light Mode (Default) - Warm Orange/Peach Theme */
:root {
  /* Background colors */
  --background: 255 247 237;
  /* #FFF7ED - warm cream */
  --background-secondary: 254 243 199;
  /* #FEF3C7 - pale cream */
  --card: 255 255 255;
  /* #FFFFFF */
  --card-hover: 255 251 245;
  /* #FFFBF5 */
  --sidebar: 255 251 245;
  /* #FFFBF5 */

  /* Sidebar Specific Theme (Dark Teal) */
  --sidebar-bg: 14 61 59;
  /* #0E3D3B */
  --sidebar-fg: 255 255 255;
  /* White text */
  --sidebar-active: 249 115 22;
  /* #F97316 (Orange) */
  --sidebar-muted: 148 163 184;
  /* #94A3B8 */

  /* Text/Foreground colors */
  --foreground: 31 41 55;
  /* #1F2937 */
  --foreground-secondary: 100 116 139;
  /* #64748B */
  --foreground-muted: 148 163 184;
  /* #94A3B8 */

  /* Primary (Orange) */
  --primary: 249 115 22;
  /* #F97316 */
  --primary-light: 253 186 116;
  /* #FDBA74 */
  --primary-dark: 234 88 12;
  /* #EA580C */
  --primary-foreground: 255 255 255;
  /* #FFFFFF */

  /* Secondary */
  --secondary: 241 245 249;
  /* #F1F5F9 */
  --secondary-foreground: 31 41 55;
  /* #1F2937 */

  /* Accent */
  --accent: 254 215 170;
  /* #FED7AA */
  --accent-foreground: 154 52 18;
  /* #9A3412 */

  /* Borders */
  --border: 229 231 235;
  /* #E5E7EB */
  --border-light: 243 244 246;
  /* #F3F4F6 */
  --border-accent: 254 215 170;
  /* #FED7AA */

  /* Semantic colors */
  --success: 34 197 94;
  /* #22C55E */
  --success-light: 134 239 172;
  /* #86EFAC */
  --warning: 245 158 11;
  /* #F59E0B */
  --warning-light: 253 230 138;
  /* #FDE68A */
  --error: 239 68 68;
  /* #EF4444 */
  --error-light: 252 165 165;
  /* #FCA5A5 */
  --info: 59 130 246;
  /* #3B82F6 */
  --info-light: 147 197 253;
  /* #93C5FD */
  --purple: 168 85 247;
  /* #A855F7 */
  --purple-light: 233 213 255;
  /* #E9D5FF */

  /* Ring/Focus */
  --ring: 249 115 22;
  /* #F97316 */

  /* Gradients (as color stops) */
  --gradient-start: #FDBA74;
  --gradient-middle: #FB923C;
  --gradient-end: #F97316;

  /* Font sizes (existing) */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --spacing-scale: 1;
  --padding-scale: 1;
  --animation-duration: 0.3s;
  --transition-duration: 0.2s;
}

/* Dark Mode */
.dark {
  /* Background colors */
  --background: 15 23 42;
  /* #0F172A - slate-900 */
  --background-secondary: 30 41 59;
  /* #1E293B - slate-800 */
  --card: 30 41 59;
  /* #1E293B */
  --card-hover: 51 65 85;
  /* #334155 */
  --sidebar: 15 23 42;
  /* #0F172A */

  /* Text/Foreground colors */
  --foreground: 248 250 252;
  /* #F8FAFC */
  --foreground-secondary: 203 213 225;
  /* #CBD5E1 */
  --foreground-muted: 148 163 184;
  /* #94A3B8 */

  /* Primary (Orange - slightly brighter for dark mode) */
  --primary: 251 146 60;
  /* #FB923C */
  --primary-light: 253 186 116;
  /* #FDBA74 */
  --primary-dark: 249 115 22;
  /* #F97316 */
  --primary-foreground: 255 255 255;
  /* #FFFFFF */

  /* Secondary */
  --secondary: 51 65 85;
  /* #334155 */
  --secondary-foreground: 248 250 252;
  /* #F8FAFC */

  /* Accent */
  --accent: 194 65 12;
  /* #C2410C */
  --accent-foreground: 254 215 170;
  /* #FED7AA */

  /* Borders */
  --border: 51 65 85;
  /* #334155 */
  --border-light: 71 85 105;
  /* #475569 */
  --border-accent: 194 65 12;
  /* #C2410C */

  /* Semantic colors (adjusted for dark mode) */
  --success: 74 222 128;
  /* #4ADE80 */
  --success-light: 34 197 94;
  /* #22C55E */
  --warning: 251 191 36;
  /* #FBBF24 */
  --warning-light: 245 158 11;
  /* #F59E0B */
  --error: 248 113 113;
  /* #F87171 */
  --error-light: 239 68 68;
  /* #EF4444 */
  --info: 96 165 250;
  /* #60A5FA */
  --info-light: 59 130 246;
  /* #3B82F6 */
  --purple: 192 132 252;
  /* #C084FC */
  --purple-light: 168 85 247;
  /* #A855F7 */

  /* Ring/Focus */
  --ring: 251 146 60;
  /* #FB923C */

  /* Gradients (dark mode) */
  --gradient-start: #7C2D12;
  --gradient-middle: #9A3412;
  --gradient-end: #C2410C;
}

/* Font Size Variants */
[data-font-size="small"] {
  font-size: var(--font-size-sm);
}

[data-font-size="medium"] {
  font-size: var(--font-size-base);
}

[data-font-size="large"] {
  font-size: var(--font-size-lg);
}

[data-font-size="extra-large"] {
  font-size: var(--font-size-xl);
}

/* High Contrast Mode */
[data-contrast="high"] {
  --tw-bg-opacity: 1;
  --tw-text-opacity: 1;
}

[data-contrast="high"] .card-dark {
  background: rgba(0, 0, 0, 0.9);
  border: 2px solid rgba(255, 255, 255, 0.3);
  color: white;
}

[data-contrast="high"] .text-gray-400 {
  color: rgba(255, 255, 255, 0.8) !important;
}

[data-contrast="high"] .text-gray-300 {
  color: rgba(255, 255, 255, 0.9) !important;
}

[data-contrast="high"] .btn-primary {
  background: #000;
  color: #fff;
  border: 2px solid #fff;
}

[data-contrast="high"] .btn-secondary {
  background: #fff;
  color: #000;
  border: 2px solid #000;
}

[data-contrast="high"] .input-dark {
  background: #000;
  color: #fff;
  border: 2px solid #fff;
}

/* Compact View Mode */
[data-view-mode="compact"] {
  --spacing-scale: 0.75;
  --padding-scale: 0.8;
}

[data-view-mode="compact"] .card-dark {
  padding: calc(1rem * var(--padding-scale));
}

[data-view-mode="compact"] .space-y-6>*+* {
  margin-top: calc(1.5rem * var(--spacing-scale));
}

[data-view-mode="compact"] .space-y-4>*+* {
  margin-top: calc(1rem * var(--spacing-scale));
}

[data-view-mode="compact"] .space-y-3>*+* {
  margin-top: calc(0.75rem * var(--spacing-scale));
}

[data-view-mode="compact"] .p-6 {
  padding: calc(1.5rem * var(--padding-scale));
}

[data-view-mode="compact"] .p-4 {
  padding: calc(1rem * var(--padding-scale));
}

[data-view-mode="compact"] .py-4 {
  padding-top: calc(1rem * var(--padding-scale));
  padding-bottom: calc(1rem * var(--padding-scale));
}

[data-view-mode="compact"] .px-6 {
  padding-left: calc(1.5rem * var(--padding-scale));
  padding-right: calc(1.5rem * var(--padding-scale));
}

/* Animation Control */
[data-animations="false"] *,
[data-animations="false"] *::before,
[data-animations="false"] *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  transition-delay: 0ms !important;
}

[data-animations="false"] .animate-spin {
  animation: none !important;
}

[data-animations="false"] .animate-pulse {
  animation: none !important;
}

[data-animations="false"] .animate-bounce {
  animation: none !important;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
  }
}

/* Responsive Font Scaling */
.text-xs {
  font-size: var(--font-size-xs);
}

.text-sm {
  font-size: var(--font-size-sm);
}

.text-base {
  font-size: var(--font-size-base);
}

.text-lg {
  font-size: var(--font-size-lg);
}

.text-xl {
  font-size: var(--font-size-xl);
}

.text-2xl {
  font-size: var(--font-size-2xl);
}

.text-3xl {
  font-size: var(--font-size-3xl);
}

.text-4xl {
  font-size: var(--font-size-4xl);
}

@layer base {
  body {
    background-color: rgb(var(--background));
    color: rgb(var(--foreground));
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    border-color: rgb(var(--border));
  }

  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
  }

  /* Ensure proper box-sizing */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Prevent horizontal scroll on mobile */
  body {
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }
}

@layer components {

  /* Theme-aware glass effect */
  .glass-effect {
    background: rgb(var(--card) / 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid rgb(var(--border) / 0.5);
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
  }

  /* Theme-aware card */
  .card-dark,
  .card-theme {
    background: rgb(var(--card));
    border: 1px solid rgb(var(--border));
    border-radius: 2.5rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    contain: layout style paint;
  }

  .dark .card-dark,
  .dark .card-theme {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  /* Theme-aware primary button */
  .btn-primary {
    background: linear-gradient(135deg, rgb(var(--primary)), rgb(var(--primary-dark)));
    color: rgb(var(--primary-foreground));
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    white-space: nowrap;
    transition: all 0.2s ease;
  }

  @media (max-width: 640px) {
    .btn-primary {
      padding: 0.875rem 1.25rem;
      font-size: 0.875rem;
      min-height: 48px;
      touch-action: manipulation;
    }
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, rgb(var(--primary-dark)), rgb(var(--primary-dark)));
    box-shadow: 0 0 20px rgba(var(--primary), 0.3);
    transform: translateY(-1px);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  /* Theme-aware secondary button */
  .btn-secondary {
    background: rgb(var(--secondary));
    color: rgb(var(--secondary-foreground));
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    border: 1px solid rgb(var(--border));
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-height: 44px;
    white-space: nowrap;
    transition: all 0.2s ease;
  }

  @media (max-width: 640px) {
    .btn-secondary {
      padding: 0.875rem 1.25rem;
      font-size: 0.875rem;
      min-height: 48px;
      touch-action: manipulation;
    }
  }

  .btn-secondary:hover {
    background: rgb(var(--secondary) / 0.8);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  /* Theme-aware input */
  .input-dark,
  .input-theme {
    background: rgb(var(--card));
    border: 1px solid rgb(var(--border));
    color: rgb(var(--foreground));
    border-radius: 0.75rem;
    padding: 1rem 1.25rem;
    font-size: 1rem;
    line-height: 1.5;
    width: 100%;
    max-width: 100%;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .input-dark::placeholder,
  .input-theme::placeholder {
    color: rgb(var(--foreground-muted));
  }

  .input-dark:focus,
  .input-theme:focus {
    border-color: rgb(var(--primary));
    box-shadow: 0 0 0 3px rgba(var(--primary), 0.2);
    outline: none;
  }

  .input-large {
    padding: 1.25rem 1.5rem;
    font-size: 1.125rem;
    line-height: 1.75;
  }

  @media (max-width: 640px) {
    .input-large {
      padding: 1rem 1.25rem;
      font-size: 1rem;
      touch-action: manipulation;
    }
  }

  /* Mobile-optimized container utilities */
  /* Responsive container utilities */
  .container-responsive {
    width: 100vw;
    max-width: 100vw;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
    overflow-x: hidden;
    contain: layout style;
  }

  @media (min-width: 640px) {
    .container-responsive {
      max-width: 100%;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 768px) {
    .container-responsive {
      max-width: 100%;
    }
  }

  @media (min-width: 1024px) {
    .container-responsive {
      max-width: 100%;
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  @media (min-width: 1280px) {
    .container-responsive {
      max-width: 100%;
    }
  }

  @media (min-width: 1536px) {
    .container-responsive {
      max-width: 100%;
    }
  }

  /* Grid responsive utilities */
  .grid-responsive {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
    width: 100%;
    contain: layout style;
  }

  @media (min-width: 640px) {
    .grid-responsive {
      gap: 1.5rem;
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .grid-responsive {
      gap: 2rem;
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1280px) {
    .grid-responsive {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* Layout fixes */
  .layout-container {
    display: flex;
    min-height: 100vh;
    overflow-x: hidden;
    contain: layout style;
  }

  .sidebar-container {
    flex-shrink: 0;
    contain: layout style paint;
  }

  .main-content {
    flex: 1;
    min-width: 0;
    overflow-x: hidden;
    contain: layout style;
  }

  /* Mobile-specific optimizations */
  @media (max-width: 768px) {
    .main-content {
      width: 100vw;
      margin-left: 0;
      contain: layout style paint;
    }

    /* Optimize touch interactions */
    button,
    a,
    [role="button"] {
      touch-action: manipulation;
      min-height: 48px;
      min-width: 48px;
    }

    /* Reduce complexity on mobile */
    .card-dark {
      backdrop-filter: blur(2px);
    }

    /* Optimize grid layouts */
    .grid {
      contain: layout style;
    }
  }

  /* Mobile layout adjustments */
  @media (max-width: 1023px) {
    .main-content {
      width: 100vw;
      margin-left: 0;
    }
  }

  /* Desktop layout adjustments */
  @media (min-width: 1024px) {
    .main-content {
      margin-left: 0;
      width: calc(100vw - 18rem);
    }
  }
}

@layer utilities {
  .text-gradient {
    background: linear-gradient(to right, var(--gradient-start), var(--gradient-end));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .border-gradient {
    border-image: linear-gradient(90deg, #3b82f6, #d946ef) 1;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-dark-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-dark-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-dark-500;
}