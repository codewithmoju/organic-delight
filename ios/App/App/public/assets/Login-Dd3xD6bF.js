var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(r,t,s)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,i=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&l(e,t,r[t]);if(s)for(var t of s(r))o.call(r,t)&&l(e,t,r[t]);return e},n=(e,s)=>r(e,t(s));import{j as d,h as m,E as c,i as u}from"./ui-vendor-xs3J0kw7.js";import{r as x}from"./react-vendor-BVrHFBWf.js";import{u as p,c as h,L as g}from"./router-vendor-DDng8bu2.js";import{u as b}from"./utils-vendor-DglL0U6P.js";import{j as f}from"./firebase-vendor-Xl_GeJX1.js";import{u as j,a as v,L as y,b as w,c as N,g as k}from"./index-CKK7GlfE.js";import"./capacitor-vendor-Be0kW8mJ.js";function O(){var e,r;const{t:t}=j(),s=p(),a=h(),[o,l]=x.useState(!1),[O,P]=x.useState(!1),[S,F]=x.useState({}),{setUser:q,setProfile:C}=v(),E=(null==(r=null==(e=a.state)?void 0:e.from)?void 0:r.pathname)||"/";return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-950 via-dark-900 to-dark-950 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary-500/10 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent-500/10 rounded-full blur-3xl"})]}),d.jsx("div",{className:"w-full max-w-lg relative z-10",children:d.jsxs("div",{className:"glass-effect p-8 lg:p-10 rounded-2xl border border-dark-700/50 shadow-dark-lg",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx(y,{size:"lg"}),d.jsx("h2",{className:"mt-6 text-3xl lg:text-4xl font-bold text-white",children:"Welcome back"}),d.jsx("p",{className:"mt-2 text-gray-400 text-lg",children:"Sign in to your StockSuite account"})]}),d.jsxs("form",{className:"space-y-8",onSubmit:function(e){return r=this,a=null,o=function*(){e.preventDefault(),F({}),l(!0);try{const a=new FormData(e.currentTarget),o=a.get("email"),l=a.get("password");if(!o)return void F(e=>n(i({},e),{email:t("auth.login.errors.emailRequired")}));if(!l)return void F(e=>n(i({},e),{password:t("auth.login.errors.passwordRequired")}));const{user:d}=yield f(N,o,l);q(d);try{const e=yield k(d);C(e)}catch(r){}b.success("Successfully signed in"),s(E,{replace:!0})}catch(r){"auth/user-not-found"===r.code?F({email:t("auth.login.errors.userNotFound")}):"auth/wrong-password"===r.code?F({password:t("auth.login.errors.wrongPassword")}):"auth/invalid-credential"===r.code?F({email:t("auth.login.errors.invalidCredentials")}):"auth/invalid-email"===r.code?F({email:t("auth.login.errors.invalidEmail")}):"auth/too-many-requests"===r.code?b.error(t("auth.login.errors.tooManyRequests")):b.error(t("errors.generic"))}finally{l(!1)}},new Promise((t,s)=>{var l=r=>{try{n(o.next(r))}catch(e){s(e)}},i=r=>{try{n(o.throw(r))}catch(e){s(e)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,i);n((o=o.apply(r,a)).next())});var r,a,o},children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-gray-300 mb-3",children:t("auth.login.email")}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full input-dark input-large "+(S.email?"ring-error-500 border-error-500":""),placeholder:t("auth.login.password")}),S.email&&d.jsxs("div",{className:"mt-2 flex items-center text-sm text-error-400",children:[d.jsx(m,{className:"h-4 w-4 mr-1"}),S.email]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-base font-medium text-gray-300 mb-3",children:t("auth.login.password")}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"password",name:"password",type:O?"text":"password",autoComplete:"current-password",required:!0,className:"w-full input-dark input-large pr-12 "+(S.password?"ring-error-500 border-error-500":""),placeholder:"Enter your password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-4",onClick:()=>P(!O),children:O?d.jsx(c,{className:"h-6 w-6 text-gray-400 hover:text-gray-200"}):d.jsx(u,{className:"h-6 w-6 text-gray-400 hover:text-gray-200"})})]}),S.password&&d.jsxs("div",{className:"mt-2 flex items-center text-sm text-error-400",children:[d.jsx(m,{className:"h-4 w-4 mr-1"}),S.password]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-5 w-5 rounded border-dark-600 bg-dark-700 text-primary-600 focus:ring-primary-600 focus:ring-offset-dark-800"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-base text-gray-300",children:"Remember me"})]}),d.jsx(g,{to:"/forgot-password",className:"text-base font-semibold text-primary-400 hover:text-primary-300 transition-colors duration-200",children:"Forgot password?"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full flex items-center justify-center gap-2 py-4 text-lg font-semibold",children:o?d.jsx(d.Fragment,{children:d.jsx(w,{size:"sm",color:"white"})}):t("auth.login.signIn")})})]}),d.jsxs("p",{className:"mt-8 text-center text-base text-gray-400",children:[t("auth.login.noAccount")," ",d.jsx(g,{to:"/register-multi",className:"font-semibold text-primary-400 hover:text-primary-300 transition-colors duration-200 text-lg",children:t("auth.login.signUp")})]})]})})]})}export{O as default};
